version: 2.0.0.{build}-beta
configuration: Debug
image: Visual Studio 2017

init:
  - git config --global core.autocrlf true

dotnet_csproj:
  patch: true
  file: '**\*.csproj'
  version: '{version}'
  package_version: '{version}'
  assembly_version: '{version}'
  file_version: '{version}'
  informational_version: '{version}'

nuget:
  account_feed: false
  project_feed: false

before_build:
- cmd: nuget restore Source\ManagedIrbis.sln

build:
  project: Source\ManagedIrbis.sln
  publish_nuget: false
  parallel: true
  verbosity: minimal

after_build:
- cmd: compile.cmd

artifacts:
  - path: Binaries
    name: ManagedIrbis2
  - path: 'Binaries\DebugCore\**\*.nupkg'
    name: Nuget
